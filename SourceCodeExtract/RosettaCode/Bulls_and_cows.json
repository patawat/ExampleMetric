{"isSuccess":true,"url":"http://rosettacode.org//wiki/Bulls_and_cows","codeArray":["#!/usr/bin/env js\n\nfunction main() {\n    var len = 4;\n    playBullsAndCows(len);\n}\n\nfunction playBullsAndCows(len) {\n    var num = pickNum(len);\n    // print('The secret number is:\\n  ' + num.join('\\n  '));\n    showInstructions(len);\n    var nGuesses = 0;\n    while (true) {\n        nGuesses++;\n        var guess = getGuess(nGuesses, len);\n        var census = countBovine(num, guess);\n        showScore(census.bulls, census.cows);\n        if (census.bulls == len) {\n            showFinalResult(nGuesses);\n            return;\n        }\n    }\n}\n\nfunction showScore(nBulls, nCows) {\n    print('    Bulls: ' + nBulls + ', cows: ' + nCows);\n}\n\nfunction showFinalResult(guesses) {\n    print('You win!!! Guesses needed: ' + guesses);\n}\n\nfunction countBovine(num, guess) {\n    var count = {\n        bulls: 0,\n        cows: 0\n    };\n    var g = guess.join('');\n    for (var i = 0; i < num.length; i++) {\n        var digPresent = g.search(num[i]) != -1;\n        if (num[i] == guess[i]) count.bulls++;\n        else if (digPresent) count.cows++;\n    }\n    return count;\n}\n\nfunction getGuess(nGuesses, len) {\n    while (true) {\n        putstr('Your guess #' + nGuesses + ': ');\n        var guess = readline();\n        guess = String(parseInt(guess)).split('');\n        if (guess.length != len) {\n            print('  You must enter a ' + len + ' digit number.');\n            continue;\n        }\n        if (hasDups(guess)) {\n            print('  No digits can be duplicated.');\n            continue;\n        }\n        return guess;\n    }\n}\n\nfunction hasDups(ary) {\n    var t = ary.concat().sort();\n    for (var i = 1; i < t.length; i++) {\n        if (t[i] == t[i - 1]) return true;\n    }\n    return false;\n}\n\nfunction showInstructions(len) {\n    print();\n    print('Bulls and Cows Game');\n    print('-------------------');\n    print('  You must guess the ' + len + ' digit number I am thinking of.');\n    print('  The number is composed of the digits 1-9.');\n    print('  No digit appears more than once.');\n    print('  After each of your guesses, I will tell you:');\n    print('    The number of bulls (digits in right place)');\n    print('    The number of cows (correct digits, but in the wrong place)');\n    print();\n}\n\nfunction pickNum(len) {\n    var nums = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n    nums.sort(function() {\n        return Math.random() - 0.5\n    });\n    return nums.slice(0, len);\n}\nmain();"],"uncertainCodeArray":[],"textArray":[]}