{"isSuccess":true,"url":"http://rosettacode.org//wiki/Bulls_and_cows","codeArray":["#!/usr/bin/env js\n  function main() {\n      var len = 4;\n      playBullsAndCows(len);\n  }\n  function playBullsAndCows(len) {\n      var num = pickNum(len);\n      // print('The secret number is:\\n  ' + num.join('\\n  '));\n      showInstructions(len);\n      var nGuesses = 0;\n      while (true) {\n          nGuesses++;\n          var guess = getGuess(nGuesses, len);\n          var census = countBovine(num, guess);\n          showScore(census.bulls, census.cows);\n          if (census.bulls == len) {\n              showFinalResult(nGuesses);\n              return;\n          }\n      }\n  }\n  function showScore(nBulls, nCows) {\n      print('    Bulls: ' + nBulls + ', cows: ' + nCows);\n  }\n  function showFinalResult(guesses) {\n      print('You win!!! Guesses needed: ' + guesses);\n  }\n  function countBovine(num, guess) {\n      var count = {bulls:0, cows:0};\n      var g = guess.join('');\n      for (var i = 0; i < num.length; i++) {\n          var digPresent = g.search(num[i]) != -1;\n          if (num[i] == guess[i]) count.bulls++;\n          else if (digPresent) count.cows++;\n      }\n      return count;\n  }\n  function getGuess(nGuesses, len) {\n      while (true) {\n          putstr('Your guess #' + nGuesses + ': ');\n          var guess = readline();\n          guess = String(parseInt(guess)).split('');\n          if (guess.length != len) {\n              print('  You must enter a ' + len + ' digit number.');\n              continue;\n          }\n          if (hasDups(guess)) {\n              print('  No digits can be duplicated.');\n              continue;\n          }    \n          return guess;\n      }\n  }\n  function hasDups(ary) {\n      var t = ary.concat().sort();\n      for (var i = 1; i < t.length; i++) {\n          if (t[i] == t[i-1]) return true;\n      }\n      return false;\n  }\n  function showInstructions(len) {\n      print();\n      print('Bulls and Cows Game');\n      print('-------------------');\n      print('  You must guess the ' + len + ' digit number I am thinking of.');\n      print('  The number is composed of the digits 1-9.');\n      print('  No digit appears more than once.');\n      print('  After each of your guesses, I will tell you:');\n      print('    The number of bulls (digits in right place)');\n      print('    The number of cows (correct digits, but in the wrong place)');\n      print();\n  }\n  function pickNum(len) {\n      var nums = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n      nums.sort(function(){return Math.random() - 0.5});\n      return nums.slice(0, len);\n  }\n  main();"],"uncertainCodeArray":[],"textArray":[]}