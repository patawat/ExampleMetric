{"isSuccess":true,"url":"http://rosettacode.org//wiki/Anagrams/Deranged_anagrams","codeArray":["#!/usr/bin/env js\n  function main() {\n      var wordList = read('unixdict.txt').split(/\\s+/);\n      var anagrams = findAnagrams(wordList);\n      var derangedAnagrams = findDerangedAnagrams(anagrams);\n      var longestPair = findLongestDerangedPair(derangedAnagrams);\n      print(longestPair.join(' '));\n  }\n  function findLongestDerangedPair(danas) {\n      var longestLen = danas[0][0].length;\n      var longestPair = danas[0];\n      for (var i in danas) {\n          if (danas[i][0].length > longestLen) {\n              longestLen = danas[i][0].length;\n              longestPair = danas[i];\n          }\n      }\n      return longestPair;\n  }\n  function findDerangedAnagrams(anagrams) {\n      var deranged = [];\n      function isDeranged(w1, w2) {\n          for (var c = 0; c < w1.length; c++) {\n              if (w1[c] == w2[c]) {\n                  return false;\n              }\n          }\n          return true;\n      }\n      function findDeranged(anas) {\n          for (var a = 0; a < anas.length; a++) {\n              for (var b = a + 1; b < anas.length; b++) {\n                  if (isDeranged(anas[a], anas[b])) {\n                      deranged.push([anas[a], anas[b]]);\n                  }   \n              }\n          }\n      }\n      for (var a in anagrams) {\n          var anas = anagrams[a];\n          findDeranged(anas);\n      }\n      return deranged;\n  }\n  function findAnagrams(wordList) {\n      var anagrams = {};\n      for (var wordNum in wordList) {\n          var word = wordList[wordNum];\n          var key = word.split('').sort().join('');\n          if (!(key in anagrams)) {\n              anagrams[key] = [];\n          }\n          anagrams[key].push(word);\n      }\n      for (var a in anagrams) {\n          if (anagrams[a].length < 2) {\n              delete(anagrams[a]);\n          }\n      }\n      return anagrams;\n  }\n  main();\n  Â <html><head><title>Intoxication</title></head>\n  <body><pre id='x'></pre>\n  <script type=\"application/javascript\">\n  function show(t) {\n  \tvar l = document.createTextNode(t + '\\n');\n  \tdocument.getElementById('x').appendChild(l);\n  }\n  // get words; be ware of cross-site restrictions on XMLHttpRequest\n  var words = null;\n  var req = new XMLHttpRequest();\n  req.open('GET', 'file:///tmp/unixdict.txt', false);\n  req.send(null);\n  words = req.responseText.split('\\n');\n  var idx = {};\n  for (var i = 0; i < words.length; i++) {\n  \tvar t = words[i].split('').sort().join('');\n  \tif (idx[t]) idx[t].push(words[i]);\n  \telse\t    idx[t] = [words[i]];\n  }\n  var best = '';\n  var best_pair;\n  for (var i in idx) {\n  \tif (i.length <= best.length) continue;\n  \tif (idx[i].length == 1) continue;\n  \tvar a = idx[i], got = null;\n  \tfor (var j = 0, l1 = a[j]; j < a.length && !got; j++) {\n  \t\tfor (var k = j + 1, l2 = a[k]; k < a.length && !got; k++)\n  \t\t\tfor (var m = 0; m < l1.length || !(got = [l2]); m++)\n  \t\t\t\tif (l1[m] == l2[m]) break;\n  \t\tif (got) got.push(l1);\n  \t}\n  \tif (got) {\n  \t\tbest_pair = got;\n  \t\tbest = got[0];\n  \t}\n  }\n  show(best_pair);\n  </script></body></html>"],"uncertainCodeArray":[],"textArray":[]}