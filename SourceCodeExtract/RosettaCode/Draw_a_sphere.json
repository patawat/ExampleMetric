{"isSuccess":true,"url":"http://rosettacode.org//wiki/Draw_a_sphere","codeArray":["<!DOCTYPE html>\n  <html>\n  <head>\n  <meta charset=\"utf-8\">\n  <title>Draw a sphere</title>\n  <script>\n  var light=[30,30,-50],gR,gk,gambient;\n  function normalize(v){\n  \tvar len=Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]);\n  \tv[0]/=len;\n  \tv[1]/=len;\n  \tv[2]/=len;\n  \treturn v;\n  }\n  function dot(x,y){\n  \tvar d=x[0]*y[0]+x[1]*y[1]+x[2]*y[2];\n  \treturn d<0?-d:0;\n  }\n  function draw_sphere(R,k,ambient){\n  \tvar i,j,intensity,b,vec,x,y,cvs,ctx,imgdata,idx;\n  \tcvs=document.getElementById(\"c\");\n  \tctx=cvs.getContext(\"2d\");\n  \tcvs.width=cvs.height=2*Math.ceil(R)+1;\n  \timgdata=ctx.createImageData(2*Math.ceil(R)+1,2*Math.ceil(R)+1);\n  \tidx=0;\n  \tfor(i=Math.floor(-R);i<=Math.ceil(R);i++){\n  \t\tx=i+.5;\n  \t\tfor(j=Math.floor(-R);j<=Math.ceil(R);j++){\n  \t\t\ty=j+.5;\n  \t\t\tif(x*x+y*y<=R*R){\n  \t\t\t\tvec=[x,y,Math.sqrt(R*R-x*x-y*y)];\n  \t\t\t\tvec=normalize(vec);\n  \t\t\t\tb=Math.pow(dot(light,vec),k)+ambient;\n  \t\t\t\tintensity=(1-b)*256;\n  \t\t\t\tif(intensity<0)intensity=0;\n  \t\t\t\tif(intensity>=256)intensity=255;\n  \t\t\t\timgdata.data[idx++]=imgdata.data[idx++]=255-~~(intensity); //RG\n  \t\t\t\timgdata.data[idx++]=imgdata.data[idx++]=255; //BA\n  \t\t\t} else {\n  \t\t\t\timgdata.data[idx++]=imgdata.data[idx++]=imgdata.data[idx++]=imgdata.data[idx++]=255; //RGBA\n  \t\t\t}\n  \t\t}\n  \t}\n  \tctx.putImageData(imgdata,0,0);\n  }\n  light=normalize(light);\n  </script>\n  </head>\n  <body onload=\"gR=200;gk=4;gambient=.2;draw_sphere(gR,gk,gambient)\">\n  R=<input type=\"range\" id=\"R\" name=\"R\" min=\"5\" max=\"500\" value=\"200\" step=\"5\" onchange=\"document.getElementById('lR').innerHTML=gR=parseFloat(this.value);draw_sphere(gR,gk,gambient)\">\n  <label for=\"R\" id=\"lR\">200</label><br>\n  k=<input type=\"range\" id=\"k\" name=\"k\" min=\"0\" max=\"10\" value=\"4\" step=\".25\" onchange=\"document.getElementById('lk').innerHTML=gk=parseFloat(this.value);draw_sphere(gR,gk,gambient)\">\n  <label for=\"k\" id=\"lk\">4</label><br>\n  ambient=<input type=\"range\" id=\"ambient\" name=\"ambient\" min=\"0\" max=\"1\" value=\".2\" step=\".05\" onchange=\"document.getElementById('lambient').innerHTML=gambient=parseFloat(this.value);draw_sphere(gR,gk,gambient)\">\n  <label for=\"ambient\" id=\"lambient\">0.2</label><br>\n  <canvas id=\"c\">Unsupportive browser...</canvas><br>\n  </body>\n  </html>"],"uncertainCodeArray":[],"textArray":[]}