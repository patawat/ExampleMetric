{"isSuccess":true,"url":"http://rosettacode.org//wiki/Magic_squares_of_odd_order","codeArray":["(function () {\n    // n -> [[n]]\n    function magic(n) {\n      return n % 2 ? rotation(\n        transposed(\n          rotation(\n            table(n)\n          )\n        )\n      ) : null;\n    }\n    // [[a]] -> [[a]]\n    function rotation(lst) {\n      return lst.map(function (row, i) {\n        return rotated(\n          row, ((row.length + 1) / 2) - (i + 1)\n        );\n      })\n    }\n    // [[a]] -> [[a]]\n    function transposed(lst) {\n      return lst[0].map(function (col, i) {\n        return lst.map(function (row) {\n          return row[i];\n        })\n      });\n    }\n    // [a] -> n -> [a]\n    function rotated(lst, n) {\n      var lng = lst.length,\n        m = (typeof n === 'undefined') ? 1 : (\n          n < 0 ? lng + n : (n > lng ? n % lng : n)\n        );\n      return m ? (\n        lst.slice(-m).concat(lst.slice(0, lng - m))\n      ) : lst;\n    }\n    // n -> [[n]]\n    function table(n) {\n      var rngTop = rng(1, n);\n      return rng(0, n - 1).map(function (row) {\n        return rngTop.map(function (x) {\n          return row * n + x;\n        });\n      });\n    }\n    // [m..n]\n    function rng(m, n) {\n      return Array.apply(null, Array(n - m + 1)).map(\n        function (x, i) {\n          return m + i;\n        });\n    }\n    /******************** TEST WITH 3, 5, 11 ***************************/\n    // Results as right-aligned wiki tables\n    function wikiTable(lstRows, blnHeaderRow, strStyle) {\n      var css = strStyle ? 'style=\"' + strStyle + '\"' : '';\n      return '{| class=\"wikitable\" ' + css + lstRows.map(\n        function (lstRow, iRow) {\n          var strDelim = ((blnHeaderRow && !iRow) ? '!' : '|'),\n            strDbl = strDelim + strDelim;\n          return '\\n|-\\n' + strDelim + ' ' + lstRow.join(' ' + strDbl + ' ');\n        }).join('') + '\\n|}';\n    }\n    return [3, 5, 11].map(\n      function (n) {\n        var w = 2.5 * n;\n        return 'magic(' + n + ')\\n\\n' + wikiTable(\n          magic(n), false, 'text-align:center;width:' + w + 'em;height:' + w + 'em;table-layout:fixed;'\n        )\n      }\n    ).join('\\n\\n')\n  })();"],"uncertainCodeArray":[],"textArray":[]}