{"isSuccess":true,"url":"http://rosettacode.org//wiki/Number_reversal_game","codeArray":["function endGame(progress) {\n      var scoreId = progress.scoreId,\n          result = 'You took ' + progress.count + ' attempts to put the digits in order!';\n      if (progress.abort === true) {\n          result = 'Game aborted.';\n      }\n      document.getElementById(scoreId).innerHTML = result;\n  }\n  function reverseFirstN(arr, n) {\n      var reversed = arr.slice(0, n).reverse();\n      return reversed.concat(arr.slice(n));\n  }\n  function isSorted(arr) {\n      return arr.slice(0).sort().toString() === arr.toString();\n  }\n  function gameLoop(progress) {\n      if (isSorted(progress.arr)) {\n          endGame(progress);\n      } else {\n          var n = parseInt(window.prompt('How many elements to reverse?', ''), 10);\n          if (isNaN(n)) {\n              progress.abort = true;\n          } else {\n              progress.arr = reverseFirstN(progress.arr, n);\n              progress.innerHTML += '<p>' + progress.arr + '</p>';\n              progress.count += 1;\n          }\n          if (progress.abort !== true) {\n              // allow window to repaint before next guess\n              setTimeout(function () {\n                  gameLoop(progress);\n              }, 1);\n          }\n      }\n  }\n  function knuth_shuffle(a) {\n      var n = a.length,\n          r,\n          temp;\n      while (n > 1) {\n          r = Math.floor(n * Math.random());\n          n -= 1;\n          temp = a[n];\n          a[n] = a[r];\n          a[r] = temp;\n      }\n      return a;\n  }\n  function playGame(startId, progressId, scoreId) {\n      var progress = document.getElementById(progressId);\n      progress.arr = knuth_shuffle([1, 2, 3, 4, 5, 6, 7, 8, 9]);\n      document.getElementById(startId).innerHTML = '<p>' + progress.arr.toString() + '</p>';\n      progress.count = 0;\n      progress.scoreId = scoreId;\n      // allow window to repaint before prompting for a guess\n      setTimeout(function () {\n          gameLoop(progress);\n      }, 1);\n  }\n  playGame('start', 'progress', 'score');"],"uncertainCodeArray":[],"textArray":[]}