{"isSuccess":true,"url":"http://rosettacode.org//wiki/Create_an_object/Native_demonstration","codeArray":["var keyError = new Error(\"Invalid Key Error (FixedKeyDict)\");\n\nfunction FixedKeyDict(obj) {\n    var myDefault = new Object();\n    var myData = new Object();\n    for (k in obj) {\n        myDefault[k] = obj[k];\n        myData[k] = obj[k];\n    }\n    var gotKey = function(k) {\n        for (kk in myDefault) {\n            if (kk == k) return true;\n        }\n        return false;\n    };\n    this.hasKey = gotKey;\n    var checkKey = function(k) {\n        if (!gotKey(k))\n            throw keyError;\n    };\n    this.getItem = function(k) {\n        checkKey(k);\n        return myData[k];\n    };\n    this.setItem = function(k, v) {\n        checkKey(k);\n        myData[k] = v;\n    };\n    this.resetItem = function(k) {\n        checkKey(k);\n        myData[k] = myDefault[k];\n    };\n    this.delItem = this.resetItem;\n    this.clear = function() {\n        for (k in myDefault)\n            myData[k] = myDefault[k];\n    };\n    this.iterator = function() {\n        for (k in myDefault)\n            yield(k);\n    };\n    this.clone = function() {\n        return new FixedKeyDict(myDefault);\n    }\n    this.toStr = function() {\n        var s = \"\";\n        for (key in myData)\n            s = s + key + \" => \" + myData[key] + \", \";\n        return \"FixedKeyDict{\" + s + \"}\";\n    };\n}"," const BR = \"<BR>\\n\"\n var pl = function(s) {\n     document.write(s + BR);\n };\n pl(\"<pre>\");\n var o = {\n     foo: 101,\n     bar: 102\n };\n var h = new FixedKeyDict(o);\n pl(\"Fixed Key Dict Created\");\n pl(\"toString   : \" + h.toStr());\n pl(\"get an item: \" + h.getItem(\"foo\"));\n pl(\"check a key: \" + h.hasKey(\"boo\"));\n pl(\"ditto      : \" + h.hasKey(\"bar\"));\n h.setItem(\"bar\", 999);\n pl(\"set an item: \" + h.toStr());\n pl(\"Test iterator (or whatever)\");\n for (k in h.iterator())\n     pl(\"  \" + k + \" => \" + h.getItem(k));\n var g = h.clone();\n pl(\"Clone a dict\");\n pl(\"  clone    : \" + g.toStr());\n pl(\"  original : \" + h.toStr());\n h.clear();\n pl(\"clear or reset the dict\");\n pl(\"           : \" + h.toStr());\n try {\n     h.setItem(\"NoNewKey\", 666);\n } catch (e) {\n     pl(\"error test : \" + e.message);\n }"],"uncertainCodeArray":[],"textArray":[]}